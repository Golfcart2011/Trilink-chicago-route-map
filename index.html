<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Airline Route Map</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

  <style>
    body { margin: 0; padding: 0; }
    #map { width: 100%; height: 100vh; }

    .legend {
      background: white;
      padding: 10px 12px;
      font-family: Arial, sans-serif;
      font-size: 13px;
      line-height: 18px;
      color: #333;
      border-radius: 6px;
      box-shadow: 0 0 6px rgba(0,0,0,0.25);
    }

    .legend i {
      width: 18px;
      height: 3px;
      float: left;
      margin-right: 8px;
      margin-top: 7px;
    }
  </style>
</head>
<body>

<div id="map"></div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<script>
/* =========================
   MAP INITIALIZATION
   ========================= */
const map = L.map('map').setView([45, 5], 2);

L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
  attribution: '&copy; OpenStreetMap contributors'
}).addTo(map);

/* =========================
   AIRPORT DATABASE
   ========================= */
const airports = {
  KORD: { name: "Chicago O'Hare (KORD)", coords: [41.9742, -87.9073] },
  LYS: { name: "Lyon Saint-Exupéry (LYS)", coords: [45.7256, 5.0811] },

  AMS: { name: "Amsterdam (AMS)", coords: [52.3105, 4.7683] },
  ATH: { name: "Athens (ATH)", coords: [37.9364, 23.9445] },
  BCN: { name: "Barcelona (BCN)", coords: [41.2974, 2.0833] },
  BEG: { name: "Belgrade (BEG)", coords: [44.8184, 20.3091] },
  BRU: { name: "Brussels (BRU)", coords: [50.9010, 4.4844] },
  CPH: { name: "Copenhagen (CPH)", coords: [55.6181, 12.6561] },
  DUB: { name: "Dublin (DUB)", coords: [53.4264, -6.2499] },
  FRA: { name: "Frankfurt (FRA)", coords: [50.0379, 8.5622] },
  IST: { name: "Istanbul (IST)", coords: [41.2753, 28.7519] },
  LHR: { name: "London Heathrow (LHR)", coords: [51.4700, -0.4543] },
  MAD: { name: "Madrid (MAD)", coords: [40.4720, -3.5610] },
  MUC: { name: "Munich (MUC)", coords: [48.3538, 11.7861] },
  CDG: { name: "Paris CDG (CDG)", coords: [49.0097, 2.5479] },
  ZRH: { name: "Zurich (ZRH)", coords: [47.4581, 8.5555] },

  BOD: { name: "Bordeaux (BOD)", coords: [44.8283, -0.7156] },
  LIG: { name: "Limoges (LIG)", coords: [45.8628, 1.1794] },
  NTE: { name: "Nantes (NTE)", coords: [47.1532, -1.6107] },
  DKR: { name: "Dakar (DKR)", coords: [14.7397, -17.4902] },
  SAW: { name: "Istanbul Sabiha Gökçen (SAW)", coords: [40.8986, 29.3092] },
  LIS: { name: "Lisbon (LIS)", coords: [38.7742, -9.1342] },
  LGW: { name: "London Gatwick (LGW)", coords: [51.1537, -0.1821] },
  RAK: { name: "Marrakesh (RAK)", coords: [31.6069, -8.0363] },
  MXP: { name: "Milan Malpensa (MXP)", coords: [45.6306, 8.7281] },
  ORN: { name: "Oran (ORN)", coords: [35.6239, -0.6212] },
  PRG: { name: "Prague (PRG)", coords: [50.1008, 14.2632] },
  TRN: { name: "Turin (TRN)", coords: [45.2008, 7.6496] },
  LCY: { name: "London City (LCY)", coords: [51.5053, 0.0553] }
};

/* =========================
   LAYER GROUPS
   ========================= */
const trilinkRoutes = L.layerGroup();
const lyonAirRoutes = L.layerGroup();

const trilinkColor = "#b22234"; // US flag red
const lyonColor = "#ff7f00";

/* =========================
   TRILINK ROUTES (CHICAGO)
   ========================= */
[
  "AMS","ATH","BCN","BEG","BRU","CPH","DUB",
  "FRA","IST","LHR","MAD","MUC","CDG","ZRH",
  "LYS" // ← Chicago ↔ Lyon added here
].forEach(dest => {
  L.polyline(
    [airports.KORD.coords, airports[dest].coords],
    { color: trilinkColor, weight: 2.5, opacity: 0.8 }
  ).addTo(trilinkRoutes);
});

/* =========================
   LYON AIR ROUTES
   ========================= */
[
  "BOD","LIG","NTE","ATH","DKR","SAW","LIS","LGW",
  "RAK","MXP","ORN","PRG","TRN","LCY"
].forEach(dest => {
  L.polyline(
    [airports.LYS.coords, airports[dest].coords],
    { color: lyonColor, weight: 2.5, opacity: 0.8 }
  ).addTo(lyonAirRoutes);
});

trilinkRoutes.addTo(map);
lyonAirRoutes.addTo(map);

/* =========================
   MARKERS
   ========================= */
for (const code in airports) {
  let popup = `<b>${airports[code].name}</b>`;
  if (code === "KORD") popup += "<br>Hub – Trilink Routes";
  if (code === "LYS") popup += "<br>Hub – Lyon Air";

  L.marker(airports[code].coords)
    .addTo(map)
    .bindPopup(popup);
}

/* =========================
   FILTER CONTROL
   ========================= */
L.control.layers(null, {
  "Trilink Routes": trilinkRoutes,
  "Lyon Air": lyonAirRoutes
}, { collapsed: false }).addTo(map);

/* =========================
   LEGEND
   ========================= */
const legend = L.control({ position: "bottomright" });

legend.onAdd = function () {
  const div = L.DomUtil.create("div", "legend");
  div.innerHTML = `
    <strong>Route Legend</strong><br>
    <i style="background:${trilinkColor}"></i> Trilink Routes<br>
    <i style="background:${lyonColor}"></i> Lyon Air
  `;
  return div;
};

legend.addTo(map);
</script>

</body>
</html>

